<!DOCTYPE html>  
<html>  
<head>  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">  
    <!--The viewport meta tag is used to improve the presentation and behavior of the samples  
       on iOS devices-->  
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">  
    <title>Map with WMS</title>  
  
    <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/dojo/dijit/themes/claro/claro.css">  
    <link rel="stylesheet" href="http://js.arcgis.com/3.9/js/esri/css/esri.css">  
    <style>  
        html, body, #map {  
            height: 100%;  
            width: 100%;  
            margin: 0;  
            padding: 0;  
        }  
        body {  
            background-color: #FFF;  
            overflow: hidden;  
            font-family: "Trebuchet MS";  
        }  
    </style>  
    <script src="http://js.arcgis.com/3.9/"></script>  
  
    <script>  
        var map;  
  
        require(["esri/map", "esri/layers/WMSLayer", "esri/config","esri/layers/WMSLayerInfo","esri/geometry/Extent","esri/layers/FeatureLayer"],  
                function(Map, WMSLayer, esriConfig, WMSLayerInfo,Extent,/*FeatureLayer,*/parser) {  
  
                    map = new Map("map", {  
                      extent: new Extent({xmin:-117.3,ymin:41.9,xmax:-111,ymax:49.1,spatialReference:{wkid:4326}}),  
                        zoom: 8,  
                          transparent: true,
                         //basemap: "streets"  
                       

                    });  
  
                    //addNorway(WMSLayer,WMSLayerInfo,Extent);  
                    addBGS(WMSLayer,WMSLayerInfo,Extent);  
                });  
  
  
  
        function addBGS(WMSLayer,WMSLayerInfo,Extent){  
            var layer20 = new WMSLayerInfo({name:"GBR_BGS_625k_BLS",title:"GBR BGS 1:625k Bedrock Lithology"});  
  
            var resourceInfo20 = {  
                extent: new Extent(-117.3,41.9,-111,49.1,{wkid: 4326}),  
                layerInfos: []  
            };  
            var wmsLayer20 = new WMSLayer("https://mrdata.usgs.gov/services/id?",  
                    {  
                        resourceInfo: resourceInfo20,  
                        transparent: true,
                        visibleLayers: ["Idaho_Lithology"]  
                    }  
            );  
            map.addLayers([wmsLayer20]);  
            wmsLayer20.setVisibility(true);  
  
        };  

        
  
    </script>  
</head>  
  
<body>  
<div id="map">  
</div>  
</body>  
</html>